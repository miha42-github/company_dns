<!DOCTYPE html>
<html>
<head>
  <link rel="stylesheet" type="text/css" href="/static/styles.css">
  <title>company_dns - data explorer</title>
  <script src="/static/endpoint-data.js"></script>
  <script src="/static/js/functions.js"></script>
  <script src="/static/js/api-service.js"></script>
  <script src="/static/js/global-search-alpine.js"></script>
  <script src="/static/js/edgar-explorer-alpine.js"></script>
  <script defer src="/static/js/alpine.min.js"></script>
  <link rel="icon" href="/static/favicon.ico" type="image/x-icon">
</head>

<body>
  <div class="page-container">
    <!-- Fixed header section -->
    <header class="page-header">
      <div class="menu">
        <button class="tabmenu" onclick="openTab(event, 'Home', 'help-pagecontent', 'tabmenu')">Home</button>
        <button class="tabmenu" onclick="openTab(event, 'GlobalSearch', 'explorer-pagecontent', 'tabmenu')">Industry Classification Explorer</button>
        <button class="tabmenu" onclick="openTab(event, 'EdgarExplorer', 'explorer-pagecontent', 'tabmenu')">EDGAR Explorer</button>
        <a href="/docs" target="_blank" class="tabmenu" style="color: inherit; padding: 0.8rem 0.9rem; float: left;">API Reference</a>
      </div>
    </header>

    <!-- Scrollable main content area -->
    <main class="page-content">
      <!-- Home Tab Content -->
      <div id="Home" class="help-pagecontent">
        <div class="help-container">
          <h1>Introduction to the company_dns</h1>
          
          <div class="help-intro">
            <p>
              The company_dns acts as a "domain name service" for company information, providing structured access to firmographic data from multiple sources. This tool allows you to:
            </p>
            
            <ul class="help-features">
              <li><i data-feather="search" class="help-feature-icon"></i> <strong>Search industry codes</strong> across multiple classification systems</li>
              <li><i data-feather="briefcase" class="help-feature-icon"></i> <strong>Retrieve company information</strong> from Wikipedia and EDGAR</li>
              <li><i data-feather="monitor" class="help-feature-icon"></i> <strong>Access standardized data</strong> through a consistent RESTful API</li>
              <li><i data-feather="globe" class="help-feature-icon"></i> <strong>Compare industry classifications</strong> across different international standards</li>
            </ul>
            
            <div class="help-deployment-info">
              <h3>Deployment Options</h3>
              <div class="help-deployment-cards">
                <div class="help-card">
                  <h4>Self-Hosted</h4>
                  <p>Running as your own instance, perhaps in Docker</p>
                  <code>http://localhost:8000</code>
                </div>
                <div class="help-card">
                  <h4>Mediumroast Hosted</h4>
                  <p>Using the Mediumroast, Inc. hosted instance</p>
                  <a href="https://company-dns.mediumroast.io" target="_blank">https://company-dns.mediumroast.io</a>
                </div>
              </div>
            </div>
          </div>
          
          <div class="help-tabs-wrapper">
            <div class="help-tabs">
              <button class="help-tab-button active" data-help-tab="help-overview" onclick="openHelpTab(event, 'help-overview')">Overview</button>
              <button class="help-tab-button" data-help-tab="help-api-docs" onclick="openHelpTab(event, 'help-api-docs')">API Documentation</button>
              <button class="help-tab-button" data-help-tab="help-explorer-help" onclick="openHelpTab(event, 'help-explorer-help')">Industry Classification Explorer</button>
              <button class="help-tab-button" data-help-tab="help-edgar-explorer" onclick="openHelpTab(event, 'help-edgar-explorer')">EDGAR Explorer</button>
            </div>
            
            <!-- Overview Tab -->
            <div id="help-overview" class="help-tab-content active">
              <h2>What is company_dns?</h2>
              <p>
                The company_dns integrates data from multiple sources to provide comprehensive firmographic information about companies. Currently, it combines:
              </p>
              
              <div class="help-source-cards">
                <div class="help-source-card">
                  <h4>Industry Classifications</h4>
                  <ul>
                    <li>US SIC (Standard Industry Classification)</li>
                    <li>UK SIC (United Kingdom Standard Industrial Classification)</li>
                    <li>ISIC (International Standard Industrial Classification)</li>
                    <li>EU NACE (European Classification of Economic Activities)</li>
                    <li>Japan SIC (Japan Standard Industrial Classification)</li>
                  </ul>
                </div>
                <div class="help-source-card">
                  <h4>Company Data</h4>
                  <ul>
                    <li>Wikipedia - General company information</li>
                    <li>EDGAR - SEC filings and financial data</li>
                    <li>Merged sources - Combined firmographic data</li>
                  </ul>
                </div>
              </div>
              
              <h3>API Versions</h3>
              <p>The company_dns API is available in two versions:</p>
              
              <div class="help-version-comparison">
                <div class="help-version">
                  <h4>V3.0 (Current)</h4>
                  <p>The latest version with regional path structure:</p>
                  <ul>
                    <li><code>/V3.0/na/...</code> - North America specific endpoints</li>
                    <li><code>/V3.0/uk/...</code> - United Kingdom specific endpoints</li>
                    <li><code>/V3.0/eu/...</code> - European Union specific endpoints</li>
                    <li><code>/V3.0/japan/...</code> - Japan specific endpoints</li>
                    <li><code>/V3.0/international/...</code> - International standards</li>
                    <li><code>/V3.0/global/...</code> - Global data across regions</li>
                  </ul>
                </div>
                <div class="help-version">
                  <h4>V2.0 (Legacy)</h4>
                  <p>The previous version with simpler path structure:</p>
                  <ul>
                    <li><code>/V2.0/...</code> - All endpoints without regional specificity</li>
                  </ul>
                  <p><em>Note: V2.0 is maintained for backwards compatibility but new development should use V3.0</em></p>
                </div>
              </div>
            </div>
            
            <!-- API Documentation Tab -->
            <div id="help-api-docs" class="help-tab-content">
              <h2>API Documentation</h2>
              
              <div class="help-section">
                <h3>Interactive API Explorer</h3>
                <p>
                  The most comprehensive way to explore and test the API is through our interactive <strong>API Reference</strong> page,
                  which provides real-time request/response testing, automatic schema validation, and detailed documentation.
                </p>
                <p>
                  <a href="/docs" target="_blank" style="color: #1696c8; text-decoration: underline;">[OpenAPI format]</a>
                  &nbsp;|&nbsp;
                  <a href="/redoc" target="_blank" style="color: #1696c8; text-decoration: underline;">[ReDoc format]</a>
                </p>
              </div>
              
              <div class="help-api-note" style="background-color: #1a1718; padding: 1rem; border-radius: 0.5rem; margin: 1.5rem 0; border-left: 3px solid #1696c8;">
                <h4 style="margin-top: 0;">Why Use the API Reference?</h4>
                <ul style="margin: 0.5rem 0; padding-left: 1.5rem;">
                  <li><strong>Live Testing:</strong> Try requests directly without writing code</li>
                  <li><strong>Schema Validation:</strong> See request/response models in detail</li>
                  <li><strong>Documentation:</strong> Full endpoint descriptions and parameter explanations</li>
                  <li><strong>Request History:</strong> Keep track of recent API calls</li>
                  <li><strong>OpenAPI Standard:</strong> Industry-standard REST API interface</li>
                </ul>
              </div>
              
              <h3>Response Format</h3>
              <p>All endpoints return JSON responses with a consistent structure:</p>
              <div class="help-code-container">
                <pre><code>{
  "code": 200,                // HTTP status code
  "message": "Success",       // Status message
  "total": 5,                 // Total number of results
  "data": {
    "results": [              // Array of result objects
      {
        // Result properties depend on the endpoint
      }
    ]
  }
}</code></pre>
                <button class="help-copy-button" onclick="copyToClipboard(this)">
                  <span class="help-copy-icon"></span>
                  <span class="copy-text">Copy</span>
                </button>
              </div>
              
              <h3>API Versions</h3>
              <p>The company_dns API is available in two versions. See the code examples below for version-specific endpoints.</p>
            </div>
            
            <!-- Industry Code Explorer Tab -->
            <div id="help-explorer-help" class="help-tab-content">
              <h2>Using the Industry Classification Explorer</h2>
              
              <p>
                The Industry Classification Explorer allows you to search across multiple industry classification systems
                using keywords. This is useful for finding comparable industry codes across different standards.
              </p>
              
              <div class="help-feature-walkthrough">
                <div class="help-step">
                  <h4>Step 1: Enter a Search Term</h4>
                  <p>Enter an industry keyword in the search box (e.g., "oil", "manufacturing", "retail").</p>
                  <div class="help-example-queries">
                    <h5>Example Searches:</h5>
                    <ul>
                      <li><code>oil</code></li>
                      <li><code>computer</code></li>
                      <li><code>retail</code></li>
                      <li><code>manufacturing</code></li>
                    </ul>
                  </div>
                </div>
                
                <div class="help-step">
                  <h4>Step 2: Filter Results</h4>
                  <p>Use the checkboxes on the left to filter results by classification system:</p>
                  <ul>
                    <li>US SIC - United States Standard Industrial Classification</li>
                    <li>UK SIC - United Kingdom Standard Industrial Classification</li>
                    <li>EU NACE - European Classification of Economic Activities</li>
                    <li>ISIC - International Standard Industrial Classification</li>
                    <li>Japan SIC - Japan Standard Industrial Classification</li>
                  </ul>
                </div>
                
                <div class="help-step">
                  <h4>Step 3: Explore Results</h4>
                  <p>Each result shows:</p>
                  <ul>
                    <li>Classification system badge</li>
                    <li>Industry description</li>
                    <li>Industry code</li>
                    <li>Additional details when available</li>
                  </ul>
                </div>
                
                <div class="help-tip-box">
                  <h4>Pro Tip</h4>
                  <p>Use broader terms for more comprehensive results. For example, search for "computer" instead of "computer manufacturing" to find all related industries.</p>
                </div>
              </div>
            </div>
            
            <!-- EDGAR Explorer Tab -->
            <div id="help-edgar-explorer" class="help-tab-content">
              <h2>Using the EDGAR Explorer</h2>
              
              <p>
                The EDGAR Explorer provides a powerful interface to search SEC EDGAR filings by company name or CIK. 
                It allows you to discover and explore annual reports (10-K) and quarterly reports (10-Q) filed with the SEC.
              </p>
              
              <div class="help-feature-walkthrough">
                <div class="help-step">
                  <h4>Step 1: Search for a Company</h4>
                  <p>Enter a company name (e.g., IBM, Apple) or a CIK number (e.g., 0000051143) in the search field.</p>
                  <div class="help-example-queries">
                    <h5>Example Searches:</h5>
                    <ul>
                      <li>Company name: <code>IBM</code>, <code>Apple</code>, <code>Microsoft</code></li>
                      <li>CIK: <code>0000051143</code>, <code>0000789019</code></li>
                    </ul>
                  </div>
                </div>
                
                <div class="help-step">
                  <h4>Step 2: Apply Filters (Optional)</h4>
                  <p>Use the sidebar filters to narrow your results:</p>
                  <ul>
                    <li><strong>Has 10‑K</strong> — Show only companies with annual report filings</li>
                    <li><strong>Recent 10‑Q</strong> — Show only quarterly reports filed within the last 90 days</li>
                    <li><strong>Division</strong> — Filter by SIC division (dynamically populated from results)</li>
                    <li><strong>Fiscal Year End</strong> — Filter by fiscal year end date (MM/YY format)</li>
                  </ul>
                </div>
                
                <div class="help-step">
                  <h4>Step 3: Review Company Information</h4>
                  <p>Results display comprehensive company data including:</p>
                  <ul>
                    <li>Company name and CIK</li>
                    <li>SIC code and description</li>
                    <li>Division classification</li>
                    <li>Ticker symbol and exchange</li>
                    <li>Fiscal year end</li>
                    <li>Location (city, state, address)</li>
                  </ul>
                </div>
                
                <div class="help-step">
                  <h4>Step 4: Access Filings</h4>
                  <p>Click the 10‑K or 10‑Q buttons to access the latest filings. The buttons display:</p>
                  <ul>
                    <li><code>10‑K • YYYY-MM-DD</code> — Latest annual report with filing date</li>
                    <li><code>10‑Q • YYYY-MM-DD</code> — Latest quarterly report; highlighted if filed within 90 days</li>
                  </ul>
                </div>
                
                <div class="help-step">
                  <h4>Step 5: View Raw Data</h4>
                  <p>Click <strong>View JSON</strong> in the top-right to see the raw API response for any filing result.</p>
                </div>
              </div>
              
              <div class="help-tip-box">
                <strong>Pro Tip:</strong> Use broad company names for initial searches. For example, search for "Apple" instead of "Apple Inc." 
                to get comprehensive results across different filings and entities.
              </div>
            </div>
            
          </div>
          
          <div class="help-footer">
            <h2>Additional Resources</h2>
            <div class="help-resource-links">
              <a href="https://github.com/miha42-github/company_dns/issues" target="_blank" class="help-resource-link">
                <i data-feather="alert-circle" class="help-resource-icon"></i>
                <span>Report Issues</span>
              </a>
              <a href="https://github.com/miha42-github/company_dns" target="_blank" class="help-resource-link">
                <i data-feather="github" class="help-resource-icon"></i>
                <span>Source Repository</span>
              </a>
              <a href="http://www.apache.org/licenses/" target="_blank" class="help-resource-link">
                <i data-feather="file" class="help-resource-icon"></i>
                <span>Apache 2.0 License</span>
              </a>
            </div>
            <p class="help-disclaimer">
              This software is provided as-is and without warranty or guarantee of support. 
              © 2026 Mediumroast, Inc.
            </p>
          </div>
        </div>
      </div>

      <!-- Global Search Tab Content -->
      <div id="GlobalSearch" class="explorer-pagecontent" x-data="createGlobalSearchComponent()" @load="init()">
        <!-- Initial centered search (shown before search) -->
        <div id="industry-initial-search" class="explorer-search-container" x-show="!showResults">
          <h1>Industry Classification Explorer</h1>
          
          <div class="explorer-intro">
            <p>
              Search across multiple industry classification systems to find and compare codes
              for various business activities. This tool helps you identify equivalent categories
              across different standards.
            </p>
          </div>
          
          <div class="explorer-search-card">
            <h2>Enter an Industry Keyword</h2>
            <form id="industry-search-form" @submit.prevent="performSearch()">
              <div class="explorer-input-group">
                <input type="text" x-model="searchQuery" id="industry-search-input" class="dns-textfield explorer-input" placeholder="Enter industry keyword (e.g., oil, manufacturing, retail)" required>
                <button type="submit" class="dns-button explorer-button" :disabled="isSearching">
                  <i class="explorer-action-icon"></i>
                  <span x-text="isSearching ? 'Searching...' : 'Search'"></span>
                </button>
              </div>
              <div class="explorer-search-hint">Try broad terms like "computer" or "retail" for best results</div>
            </form>
          </div>
        </div>

        <!-- Post-search layout (initially hidden) -->
        <div id="industry-results-layout" class="explorer-results-layout" x-show="showResults">
          <h1>Industry Classification Explorer</h1>
          
          <div class="explorer-search-wrapper">
            <div class="explorer-top-container">
            <form id="industry-search-form-top" @submit.prevent="performSearch()">
                <div class="explorer-input-group">
                  <input type="text" x-model="searchQuery" id="industry-search-input-top" class="dns-textfield explorer-input" placeholder="Enter industry keyword (e.g., oil, manufacturing, retail)" required>
                  <button type="submit" class="dns-button explorer-button" :disabled="isSearching">
                    <i class="explorer-action-icon"></i>
                    <span x-text="isSearching ? 'Searching...' : 'Search'"></span>
                  </button>
                </div>
              </form>
            </div>
          </div>
          
          <div class="explorer-content-wrapper">
            <div class="explorer-results-filters">
              <div class="explorer-sidebar">
                <h3 class="explorer-sidebar-title">Filter Results</h3>
                
                <div class="explorer-filter-options">
                  <div class="explorer-filter-label">Classification System:</div>
                  <div class="explorer-filter-checkboxes">
                    <div class="explorer-filter-checkbox">
                      <label><input type="checkbox" name="sourceFilter" value="All" x-model="filters.all" @change="toggleAllFilters(filters.all)" id="filterAll"> All Results</label>
                      <span class="explorer-filter-count" x-text="filterCounts.all">0</span>
                    </div>
                    <div class="explorer-filter-checkbox">
                      <label><input type="checkbox" name="sourceFilter" value="US SIC" x-model="filters['US SIC']" @change="toggleFilter('US SIC')"> US SIC</label>
                      <span class="explorer-filter-count" x-text="filterCounts['US SIC']">0</span>
                    </div>
                    <div class="explorer-filter-checkbox">
                      <label><input type="checkbox" name="sourceFilter" value="UK SIC" x-model="filters['UK SIC']" @change="toggleFilter('UK SIC')"> UK SIC</label>
                      <span class="explorer-filter-count" x-text="filterCounts['UK SIC']">0</span>
                    </div>
                    <div class="explorer-filter-checkbox">
                      <label><input type="checkbox" name="sourceFilter" value="EU NACE" x-model="filters['EU NACE']" @change="toggleFilter('EU NACE')"> EU NACE</label>
                      <span class="explorer-filter-count" x-text="filterCounts['EU NACE']">0</span>
                    </div>
                    <div class="explorer-filter-checkbox">
                      <label><input type="checkbox" name="sourceFilter" value="ISIC" x-model="filters['ISIC']" @change="toggleFilter('ISIC')"> ISIC</label>
                      <span class="explorer-filter-count" x-text="filterCounts['ISIC']">0</span>
                    </div>
                    <div class="explorer-filter-checkbox">
                      <label><input type="checkbox" name="sourceFilter" value="Japan SIC" x-model="filters['Japan SIC']" @change="toggleFilter('Japan SIC')"> Japan SIC</label>
                      <span class="explorer-filter-count" x-text="filterCounts['Japan SIC']">0</span>
                    </div>
                  </div>
                </div>
                
                <div class="explorer-filter-guide">
                  <h4>Understanding Codes</h4>
                  <ul class="explorer-classification-guide">
                    <li><strong>US SIC</strong> - United States Standard Industrial Classification</li>
                    <li><strong>UK SIC</strong> - United Kingdom Standard Industrial Classification</li>
                    <li><strong>EU NACE</strong> - European Classification of Economic Activities</li>
                    <li><strong>ISIC</strong> - International Standard Industrial Classification</li>
                    <li><strong>Japan SIC</strong> - Japan Standard Industrial Classification</li>
                  </ul>
                </div>
              </div>
              
              <div class="explorer-results-area">
                <div class="explorer-header-section">
                  <div class="results-status">
                    <div class="status-top">
                      <span class="status-title">Results</span>
                      <span class="status-count" x-text="getResultsHeadline()"></span>
                    </div>
                    <div class="status-meta">
                      <span x-text="getResultsRangeLabel()"></span>
                      <span class="status-dot">•</span>
                      <span x-text="getActiveFiltersLabel()"></span>
                    </div>
                  </div>
                  <div x-show="errorMessage" class="explorer-error-message" x-text="errorMessage"></div>
                </div>
                
                <div class="explorer-container-wrapper">
                  <div id="industry-search-results" class="explorer-results-container">
                    <!-- Results will be populated via Alpine.js -->
                    <template x-if="hasResults && getCurrentPageResults().length > 0">
                      <div>
                        <template x-for="result in getCurrentPageResults()" :key="result.code + result.source_type">
                          <div class="explorer-result-card">
                            <div class="explorer-result-header">
                              <div class="explorer-result-heading">
                                <span class="explorer-result-code" x-text="result.code"></span>
                                <span class="explorer-source-pill" :class="getSourceClass(result.source_type)" x-text="result.source_type"></span>
                              </div>
                              <div class="explorer-result-actions">
                                <button @click="viewResultJson(result)" class="explorer-view-json-btn">View JSON</button>
                              </div>
                            </div>

                            <p class="explorer-result-description" x-show="!isExpanded(result)" x-text="getTruncatedDescription(result)"></p>
                            <p class="explorer-result-description" x-show="isExpanded(result)" x-text="result.description"></p>
                            <button class="explorer-show-more" x-show="shouldShowToggle(result)" @click="toggleDescription(result)" type="button">
                              <span x-text="isExpanded(result) ? 'Show less' : 'Show more'"></span>
                            </button>

                            <div class="explorer-result-meta" x-show="hasMetadata(result)">
                              <template x-if="result.source_type === 'US SIC'">
                                <div class="meta-grid">
                                  <div class="meta-item" x-show="result.additional_data?.division">
                                    <div class="meta-label">Division</div>
                                    <div class="meta-value" x-text="result.additional_data?.division"></div>
                                    <div class="meta-sub" x-text="result.additional_data?.division_desc"></div>
                                  </div>
                                  <div class="meta-item" x-show="result.additional_data?.major_group">
                                    <div class="meta-label">Major Group</div>
                                    <div class="meta-value" x-text="result.additional_data?.major_group"></div>
                                    <div class="meta-sub" x-text="result.additional_data?.major_group_desc"></div>
                                  </div>
                                  <div class="meta-item" x-show="result.additional_data?.industry_group">
                                    <div class="meta-label">Industry Group</div>
                                    <div class="meta-value" x-text="result.additional_data?.industry_group"></div>
                                    <div class="meta-sub" x-text="result.additional_data?.industry_group_desc"></div>
                                  </div>
                                </div>
                              </template>

                              <template x-if="result.source_type === 'EU NACE'">
                                <div class="meta-grid">
                                  <div class="meta-item" x-show="result.additional_data?.section_code">
                                    <div class="meta-label">Section</div>
                                    <div class="meta-value" x-text="result.additional_data?.section_code"></div>
                                  </div>
                                  <div class="meta-item" x-show="result.additional_data?.division_code">
                                    <div class="meta-label">Division</div>
                                    <div class="meta-value" x-text="result.additional_data?.division_code"></div>
                                  </div>
                                  <div class="meta-item" x-show="result.additional_data?.group_code">
                                    <div class="meta-label">Group</div>
                                    <div class="meta-value" x-text="result.additional_data?.group_code"></div>
                                  </div>
                                </div>
                              </template>

                              <template x-if="result.source_type === 'ISIC'">
                                <div class="meta-grid">
                                  <div class="meta-item" x-show="result.additional_data?.section_code">
                                    <div class="meta-label">Section</div>
                                    <div class="meta-value" x-text="result.additional_data?.section_code"></div>
                                  </div>
                                  <div class="meta-item" x-show="result.additional_data?.division_code">
                                    <div class="meta-label">Division</div>
                                    <div class="meta-value" x-text="result.additional_data?.division_code"></div>
                                  </div>
                                  <div class="meta-item" x-show="result.additional_data?.group_code">
                                    <div class="meta-label">Group</div>
                                    <div class="meta-value" x-text="result.additional_data?.group_code"></div>
                                  </div>
                                </div>
                              </template>

                              <template x-if="result.source_type === 'Japan SIC'">
                                <div class="meta-grid">
                                  <div class="meta-item" x-show="result.additional_data?.division_code">
                                    <div class="meta-label">Division</div>
                                    <div class="meta-value" x-text="result.additional_data?.division_code"></div>
                                  </div>
                                  <div class="meta-item" x-show="result.additional_data?.major_group_code">
                                    <div class="meta-label">Major Group</div>
                                    <div class="meta-value" x-text="result.additional_data?.major_group_code"></div>
                                  </div>
                                  <div class="meta-item" x-show="result.additional_data?.group_code">
                                    <div class="meta-label">Group</div>
                                    <div class="meta-value" x-text="result.additional_data?.group_code"></div>
                                  </div>
                                </div>
                              </template>

                              <template x-if="result.source_type === 'UK SIC'">
                                <div class="meta-grid">
                                  <div class="meta-item" x-show="hasUkMetadata(result)">
                                    <div class="meta-label">Code</div>
                                    <div class="meta-value" x-text="result.additional_data?.code || result.code"></div>
                                    <div class="meta-sub" x-text="result.additional_data?.description"></div>
                                  </div>
                                </div>
                              </template>
                            </div>
                          </div>
                        </template>
                      </div>
                    </template>
                  </div>
                </div>
                
                <div class="pagination-controls" x-show="hasResults && filteredResults.length">
                  <button class="pagination-btn" @click="firstPage()" :disabled="currentPage === 1" aria-label="First page">⏮</button>
                  <button class="pagination-btn" @click="prevPage()" :disabled="currentPage === 1" aria-label="Previous page">◀</button>
                  <template x-for="page in getVisiblePages()" :key="'industry-page-' + page">
                    <button class="pagination-btn" :class="{ 'active': page === currentPage }" @click="goToPage(page)" x-text="page"></button>
                  </template>
                  <button class="pagination-btn" @click="nextPage()" :disabled="currentPage === totalPages" aria-label="Next page">▶</button>
                  <button class="pagination-btn" @click="lastPage()" :disabled="currentPage === totalPages" aria-label="Last page">⏭</button>
                </div>
              </div>
            </div>
          </div>
        </div>
      </div>

      <!-- EDGAR Explorer Tab Content -->
      <div id="EdgarExplorer" class="explorer-pagecontent" x-data="createEdgarExplorerComponent()" @load="init()" style="display: none;">
        <!-- Initial centered search (shown before search) -->
        <div id="edgar-initial-search" class="explorer-search-container" x-show="!showResults">
          <h1>EDGAR Explorer</h1>
          <div class="explorer-intro">
            <p>
              Search SEC EDGAR filings by company name or CIK. Use sidebar filters
              to focus on key filings like annual reports (10‑K) or recent quarterly
              reports (10‑Q within the last 90 days).
            </p>
          </div>
          <div class="explorer-search-card">
            <h2>Enter Company Name or CIK</h2>
            <form id="edgar-search-form" @submit.prevent="performSearch()">
              <div class="explorer-input-group">
                <input type="text" x-model="searchQuery" id="edgar-search-input" class="dns-textfield explorer-input" placeholder="e.g., IBM or 0000051143" required>
                <button type="submit" class="dns-button explorer-button" :disabled="isSearching">
                  <i class="explorer-action-icon" x-show="!isSearching"></i>
                  <i class="spinner-icon" x-show="isSearching"></i>
                  <span x-text="isSearching ? 'Searching...' : 'Search'"></span>
                </button>
              </div>
              <div class="explorer-search-hint">Tip: Use the official company name for broader results.</div>
            </form>
          </div>
        </div>

        <!-- Post-search layout -->
        <div id="edgar-results-layout" class="explorer-results-layout" x-show="showResults">
          <h1>EDGAR Explorer</h1>
          <div class="explorer-search-wrapper">
            <div class="explorer-top-container">
              <form id="edgar-search-form-top" @submit.prevent="performSearch()">
                <div class="explorer-input-group">
                  <input type="text" x-model="searchQuery" id="edgar-search-input-top" class="dns-textfield explorer-input" placeholder="e.g., IBM or 0000051143" required>
                  <button type="submit" class="dns-button explorer-button" :disabled="isSearching">
                    <i class="explorer-action-icon" x-show="!isSearching"></i>
                    <i class="spinner-icon" x-show="isSearching"></i>
                    <span x-text="isSearching ? 'Searching...' : 'Search'"></span>
                  </button>
                </div>
              </form>
            </div>
          </div>

          <div class="explorer-content-wrapper">
            <div class="explorer-results-filters">
              <div class="explorer-sidebar">
                <h3 class="explorer-sidebar-title">Filter Results</h3>
                <div class="explorer-filter-options">
                  <div class="explorer-filter-checkbox">
                    <label><input type="checkbox" x-model="filters.has10K" @change="applyFilters()"> Has 10‑K</label>
                  </div>
                  <div class="explorer-filter-checkbox">
                    <label><input type="checkbox" x-model="filters.recent10Q" @change="applyFilters()"> Recent 10‑Q (≤ 90 days)</label>
                  </div>
                </div>
                
                <div class="explorer-filter-options" x-show="availableDivisions.length > 0">
                  <div class="explorer-filter-label">Division:</div>
                  <div class="explorer-filter-checkboxes">
                    <select x-model="filters.division" @change="applyFilters()" style="width: 100%; padding: 0.5rem; margin-bottom: 1rem; background-color: #0F0D0E; border: 1px solid #3c3b3b; color: #1696c8; border-radius: 0.3rem;">
                      <option value="">-- All Divisions --</option>
                      <template x-for="div in availableDivisions" :key="div">
                        <option :value="div" x-text="div"></option>
                      </template>
                    </select>
                  </div>
                </div>
                
                <div class="explorer-filter-options" x-show="availableFiscalYearEnds.length > 0">
                  <div class="explorer-filter-label">Fiscal Year End:</div>
                  <div class="explorer-filter-checkboxes">
                    <select x-model="filters.fiscalYearEnd" @change="applyFilters()" style="width: 100%; padding: 0.5rem; margin-bottom: 1rem; background-color: #0F0D0E; border: 1px solid #3c3b3b; color: #1696c8; border-radius: 0.3rem;">
                      <option value="">-- All Fiscal Year Ends --</option>
                      <template x-for="fye in availableFiscalYearEnds" :key="fye">
                        <option :value="fye" x-text="fye"></option>
                      </template>
                    </select>
                  </div>
                </div>
                <div class="explorer-filter-guide">
                  <h4>About Filters</h4>
                  <ul class="explorer-classification-guide">
                    <li><strong>Has 10‑K</strong> — shows annual report filings</li>
                    <li><strong>Recent 10‑Q</strong> — shows quarterly reports filed within 90 days</li>
                  </ul>
                </div>
              </div>
              <div class="explorer-results-area">
                <div class="explorer-header-section">
                  <div class="results-status">
                    <div class="status-top">
                      <span class="status-title">Results</span>
                      <span class="status-count" x-text="getResultsHeadline()"></span>
                    </div>
                    <div class="status-meta">
                      <span x-text="getResultsRangeLabel()"></span>
                      <span class="status-dot">•</span>
                      <span x-text="getActiveFiltersLabel()"></span>
                    </div>
                  </div>
                  <div x-show="errorMessage" class="explorer-error-message" x-text="errorMessage"></div>
                </div>

                <div class="explorer-container-wrapper">
                  <div id="edgar-search-results" class="explorer-results-container">
                    <template x-if="hasResults && getCurrentPageResults().length > 0">
                      <div>
                        <template x-for="item in getCurrentPageResults()" :key="item.cik">
                          <div class="explorer-result-card">
                            <!-- Company Header Line -->
                            <div class="edgar-company-header">
                              <div class="edgar-company-info">
                                <strong>Company:</strong>
                                <span x-text="item.companyName"></span>
                                <span class="edgar-meta">CIK: <span x-text="item.cik"></span></span>
                                <span class="edgar-meta">Total Filings: <span x-text="item.totalForms"></span></span>
                              </div>
                              <button class="explorer-view-json-btn" @click="viewItemJson(item)" title="View JSON">View JSON</button>
                            </div>

                            <!-- Top 3 Recent Forms as Pills -->
                            <div class="edgar-recent-forms-compact">
                              <span class="edgar-forms-label">Recent Forms:</span>
                              <div class="edgar-pill-group">
                                <template x-if="item.recentForms.length > 0">
                                  <template x-for="form in item.recentForms.slice(0, 3)" :key="form.key">
                                    <a :href="form.url" target="_blank" class="edgar-pill">
                                      <i class="external-link-icon"></i>
                                      <span x-text="form.type + ' ' + form.date"></span>
                                    </a>
                                  </template>
                                </template>
                                <template x-if="item.recentForms.length === 0">
                                  <span style="color: #888; font-size: 0.9em;">No filings in database</span>
                                </template>
                              </div>
                            </div>

                            <!-- Quick Action Links -->
                            <div class="edgar-quick-links">
                              <a :href="item.edgarUrls.browse" target="_blank" class="edgar-quick-link" title="Browse all filings for this company">Browse EDGAR</a>
                              <a :href="item.edgarUrls.issuerTransactions" target="_blank" class="edgar-quick-link" title="View insider transactions filed by issuer">Issuer Transactions</a>
                              <a :href="item.edgarUrls.ownerTransactions" target="_blank" class="edgar-quick-link" title="View insider transactions by beneficial owner">Insider Trades</a>
                            </div>
                          </div>
                        </template>
                      </div>
                    </template>
                  </div>
                </div>
                
                <div class="pagination-controls" x-show="hasResults && filteredResults.length">
                  <button class="pagination-btn" @click="firstPage()" :disabled="currentPage === 1" aria-label="First page">⏮</button>
                  <button class="pagination-btn" @click="prevPage()" :disabled="currentPage === 1" aria-label="Previous page">◀</button>
                  <template x-for="page in getVisiblePages()" :key="'edgar-page-' + page">
                    <button class="pagination-btn" :class="{ 'active': page === currentPage }" @click="goToPage(page)" x-text="page"></button>
                  </template>
                  <button class="pagination-btn" @click="nextPage()" :disabled="currentPage === totalPages" aria-label="Next page">▶</button>
                  <button class="pagination-btn" @click="lastPage()" :disabled="currentPage === totalPages" aria-label="Last page">⏭</button>
                </div>
              </div>
            </div>
          </div>
        </div>
      </div>
    </main>

    <!-- Fixed footer section -->
    <footer class="page-footer">
      <p class="copyright">&copy; 2026 Mediumroast, Inc. All rights reserved.</p>
    </footer>
  </div>

  <!-- Feather Icons local script -->
  <script src="/static/js/feather.min.js"></script>
  <script>
    // Update the window.onload function
    window.onload = function () {
      console.log("Window loaded, initializing application...");
      
      // Get the first menu link (for main tabs)
      var firstMenuLink = document.querySelector(".tabmenu");

      console.log("Setting initial tab state");
      
      // Initialize the main tab (Home)
      openTab({ currentTarget: firstMenuLink }, 'Home', 'help-pagecontent', 'tabmenu');
      
      // Initialize inner tabs (API documentation) if applicable
      const innerTabContent = document.getElementById('V3');
      if (innerTabContent) {
        innerTabContent.style.display = 'block';
        
        // Make sure the corresponding button is active
        const innerTabButton = document.querySelector('.tablinks');
        if (innerTabButton) {
          innerTabButton.classList.add('active');
        }
      }
      
      console.log("Application initialization complete");

      // Replace any Feather icons if present
      try {
        if (window.feather && typeof feather.replace === 'function') {
          feather.replace();
        }
      } catch (e) {
        console.warn('Feather icon replacement failed:', e);
      }
    }

    // Generate the tables
    const tableV3 = generateTable(endpointsData, 'V3.0');
    const tableV2 = generateTable(endpointsData, 'V2.0');
    const v3Element = document.querySelector('#V3');
    const v2Element = document.querySelector('#V2');
    if (v3Element) v3Element.innerHTML += tableV3;
    if (v2Element) v2Element.innerHTML += tableV2;
  </script>
</body>

</html>