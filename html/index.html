<!DOCTYPE html>
<html>
<head>
  <link rel="stylesheet" type="text/css" href="/static/styles.css">
  <title>company_dns - data explorer</title>
  <script src="endpoint-data.js"></script>
  <script defer src="js/alpine.min.js"></script>
  <script defer src="js/api-service.js"></script>
  <script defer src="js/global-search-alpine.js"></script>
  <link rel="icon" href="/static/favicon.ico" type="image/x-icon">
</head></script>
  <link rel="icon" href="/static/favicon.ico" type="image/x-icon">
</head>

<body>
  <div class="page-container">
    <!-- Fixed header section -->
    <header class="page-header">
      <div class="menu">
        <button class="tabmenu" onclick="openTab(event, 'GlobalSearch', 'explorer-pagecontent', 'tabmenu')">Industry Code Explorer</button>
        <button class="tabmenu" onclick="openTab(event, 'Help', 'help-pagecontent', 'tabmenu')">Help & Documentation</button>
        <a href="/docs" target="_blank" class="tabmenu" style="color: inherit; padding: 0.8rem 0.9rem; float: left;">API Reference</a>
      </div>
    </header>

    <!-- Scrollable main content area -->
    <main class="page-content">
      <!-- Help Tab Content -->
      <div id="Help" class="help-pagecontent">
        <div class="help-container">
          <h1>Help for the company_dns</h1>
          
          <div class="help-intro">
            <p>
              The company_dns acts as a "domain name service" for company information, providing structured access to firmographic data from multiple sources. This tool allows you to:
            </p>
            
            <ul class="help-features">
              <li><i class="help-feature-icon help-search-icon"></i> <strong>Search industry codes</strong> across multiple classification systems</li>
              <li><i class="help-feature-icon help-company-icon"></i> <strong>Retrieve company information</strong> from Wikipedia and EDGAR</li>
              <li><i class="help-feature-icon help-api-icon"></i> <strong>Access standardized data</strong> through a consistent RESTful API</li>
              <li><i class="help-feature-icon help-globe-icon"></i> <strong>Compare industry classifications</strong> across different international standards</li>
            </ul>
            
            <div class="help-deployment-info">
              <h3>Deployment Options</h3>
              <div class="help-deployment-cards">
                <div class="help-card">
                  <h4>Self-Hosted</h4>
                  <p>Running as your own instance, perhaps in Docker</p>
                  <code>http://localhost:8000</code>
                </div>
                <div class="help-card">
                  <h4>Mediumroast Hosted</h4>
                  <p>Using the Mediumroast, Inc. hosted instance</p>
                  <a href="https://company-dns.mediumroast.io" target="_blank">https://company-dns.mediumroast.io</a>
                </div>
              </div>
            </div>
          </div>
          
          <div class="help-tabs-wrapper">
            <div class="help-tabs">
              <button class="help-tab-button active" onclick="openHelpTab(event, 'help-overview')">Overview</button>
              <button class="help-tab-button" onclick="openHelpTab(event, 'help-api-docs')">API Documentation</button>
              <button class="help-tab-button" onclick="openHelpTab(event, 'help-explorer-help')">Industry Code Explorer</button>
              <button class="help-tab-button" onclick="openHelpTab(event, 'help-examples')">Code Examples</button>
            </div>
            
            <!-- Overview Tab -->
            <div id="help-overview" class="help-tab-content active">
              <h2>What is company_dns?</h2>
              <p>
                The company_dns integrates data from multiple sources to provide comprehensive firmographic information about companies. Currently, it combines:
              </p>
              
              <div class="help-source-cards">
                <div class="help-source-card">
                  <h4>Industry Classifications</h4>
                  <ul>
                    <li>US SIC (Standard Industry Classification)</li>
                    <li>UK SIC (United Kingdom Standard Industrial Classification)</li>
                    <li>ISIC (International Standard Industrial Classification)</li>
                    <li>EU NACE (European Classification of Economic Activities)</li>
                    <li>Japan SIC (Japan Standard Industrial Classification)</li>
                  </ul>
                </div>
                <div class="help-source-card">
                  <h4>Company Data</h4>
                  <ul>
                    <li>Wikipedia - General company information</li>
                    <li>EDGAR - SEC filings and financial data</li>
                    <li>Merged sources - Combined firmographic data</li>
                  </ul>
                </div>
              </div>
              
              <h3>API Versions</h3>
              <p>The company_dns API is available in two versions:</p>
              
              <div class="help-version-comparison">
                <div class="help-version">
                  <h4>V3.0 (Current)</h4>
                  <p>The latest version with regional path structure:</p>
                  <ul>
                    <li><code>/V3.0/na/...</code> - North America specific endpoints</li>
                    <li><code>/V3.0/uk/...</code> - United Kingdom specific endpoints</li>
                    <li><code>/V3.0/eu/...</code> - European Union specific endpoints</li>
                    <li><code>/V3.0/japan/...</code> - Japan specific endpoints</li>
                    <li><code>/V3.0/international/...</code> - International standards</li>
                    <li><code>/V3.0/global/...</code> - Global data across regions</li>
                  </ul>
                </div>
                <div class="help-version">
                  <h4>V2.0 (Legacy)</h4>
                  <p>The previous version with simpler path structure:</p>
                  <ul>
                    <li><code>/V2.0/...</code> - All endpoints without regional specificity</li>
                  </ul>
                  <p><em>Note: V2.0 is maintained for backwards compatibility but new development should use V3.0</em></p>
                </div>
              </div>
            </div>
            
            <!-- API Documentation Tab -->
            <div id="help-api-docs" class="help-tab-content">
              <h2>API Documentation</h2>
              
              <div class="help-section">
                <h3>Interactive API Explorer</h3>
                <p>
                  The most comprehensive way to explore and test the API is through our interactive <strong>API Reference</strong> page,
                  which provides real-time request/response testing, automatic schema validation, and detailed documentation.
                </p>
                <p>
                  <a href="/docs" target="_blank" style="color: #1696c8; text-decoration: underline;">Visit the API Reference →</a>
                </p>
                <p style="font-size: 0.9rem; color: rgb(104, 95, 88);">
                  Also available: <a href="/redoc" target="_blank" style="color: #1696c8; text-decoration: underline;">Alternative ReDoc format →</a>
                </p>
              </div>
              
              <div class="help-api-note" style="background-color: #1a1718; padding: 1rem; border-radius: 0.5rem; margin: 1.5rem 0; border-left: 3px solid #1696c8;">
                <h4 style="margin-top: 0;">Why Use the API Reference?</h4>
                <ul style="margin: 0.5rem 0; padding-left: 1.5rem;">
                  <li><strong>Live Testing:</strong> Try requests directly without writing code</li>
                  <li><strong>Schema Validation:</strong> See request/response models in detail</li>
                  <li><strong>Documentation:</strong> Full endpoint descriptions and parameter explanations</li>
                  <li><strong>Request History:</strong> Keep track of recent API calls</li>
                  <li><strong>OpenAPI Standard:</strong> Industry-standard REST API interface</li>
                </ul>
              </div>
              
              <h3>Response Format</h3>
              <p>All endpoints return JSON responses with a consistent structure:</p>
              <div class="help-code-container">
                <pre><code>{
  "code": 200,                // HTTP status code
  "message": "Success",       // Status message
  "total": 5,                 // Total number of results
  "data": {
    "results": [              // Array of result objects
      {
        // Result properties depend on the endpoint
      }
    ]
  }
}</code></pre>
                <button class="help-copy-button" onclick="copyToClipboard(this)">
                  <span class="help-copy-icon"></span>
                  <span class="copy-text">Copy</span>
                </button>
              </div>
              
              <h3>API Versions</h3>
              <p>The company_dns API is available in two versions. See the code examples below for version-specific endpoints.</p>
            </div>
            
            <!-- Industry Code Explorer Tab -->
            <div id="help-explorer-help" class="help-tab-content">
              <h2>Using the Industry Code Explorer</h2>
              
              <p>
                The Industry Code Explorer allows you to search across multiple industry classification systems
                using keywords. This is useful for finding comparable industry codes across different standards.
              </p>
              
              <div class="help-feature-walkthrough">
                <div class="help-step">
                  <h4>Step 1: Enter a Search Term</h4>
                  <p>Enter an industry keyword in the search box (e.g., "oil", "manufacturing", "retail").</p>
                  <img src="./search_explorer.png" alt="Search input example" class="help-image">
                </div>
                
                <div class="help-step">
                  <h4>Step 2: Filter Results</h4>
                  <p>Use the checkboxes on the left to filter results by classification system:</p>
                  <ul>
                    <li>US SIC - United States Standard Industrial Classification</li>
                    <li>UK SIC - United Kingdom Standard Industrial Classification</li>
                    <li>EU NACE - European Classification of Economic Activities</li>
                    <li>ISIC - International Standard Industrial Classification</li>
                    <li>Japan SIC - Japan Standard Industrial Classification</li>
                  </ul>
                </div>
                
                <div class="help-step">
                  <h4>Step 3: Explore Results</h4>
                  <p>Each result shows:</p>
                  <ul>
                    <li>Classification system badge</li>
                    <li>Industry description</li>
                    <li>Industry code</li>
                    <li>Additional details when available</li>
                  </ul>
                </div>
                
                <div class="help-tip-box">
                  <h4>Pro Tip</h4>
                  <p>Use broader terms for more comprehensive results. For example, search for "computer" instead of "computer manufacturing" to find all related industries.</p>
                </div>
              </div>
            </div>
            
            <!-- Query Console Tab -->
            <div id="help-query-help" class="help-tab-content">
              <h2>Using the Query Explorer</h2>
              
              <p>
                The Query Explorer provides a user-friendly interface to test API endpoints without writing code.
                This is useful for exploring available data and testing queries before implementing them in your application.
              </p>
              
              <div class="help-feature-walkthrough">
                <div class="help-step">
                  <h4>Step 1: Select Host</h4>
                  <p>Choose between a local instance (<code>localhost:8000</code>) or the Mediumroast hosted instance (<code>company-dns.mediumroast.io</code>).</p>
                </div>
                
                <div class="help-step">
                  <h4>Step 2: Select Endpoint</h4>
                  <p>Choose the API endpoint you want to query from the dropdown menu.</p>
                </div>
                
                <div class="help-step">
                  <h4>Step 3: Enter Query</h4>
                  <p>Enter your search term or identifier in the query field.</p>
                  <div class="help-example-queries">
                    <h5>Example Queries:</h5>
                    <ul>
                      <li>Company name: <code>IBM</code>, <code>Apple</code>, <code>Google</code></li>
                      <li>Industry keyword: <code>oil</code>, <code>manufacturing</code>, <code>retail</code></li>
                      <li>SIC code: <code>7371</code>, <code>2911</code></li>
                    </ul>
                  </div>
                </div>
                
                <div class="help-step">
                  <h4>Step 4: View Results</h4>
                  <p>The query URL and JSON response will appear below the form.</p>
                </div>
              </div>
            </div>
            
            <!-- Code Examples Tab -->
            <div id="help-examples" class="help-tab-content">
              <h2>Code Examples</h2>
              
              <div class="help-code-examples">
                <div class="help-code-example">
                  <h3>Using curl</h3>
                  
                  <div class="help-example">
                    <h4>Get Company Information (US)</h4>
                    <div class="help-code-container">
                      <pre><code>curl http://localhost:8000/V3.0/na/company/merged/firmographics/IBM</code></pre>
                      <button class="help-copy-button" onclick="copyToClipboard(this)">
                        <span class="help-copy-icon"></span>
                        <span class="copy-text">Copy</span>
                      </button>
                    </div>
                  </div>
                  
                  <div class="help-example">
                    <h4>Search US SIC Descriptions</h4>
                    <div class="help-code-container">
                      <
                      <button class="help-copy-button" onclick="copyToClipboard(this)">
                        <span class="help-copy-icon"></span>
                        <span class="copy-text">Copy</span>
                      </button>
                    </div>
                  </div>
                  
                  <div class="help-example">
                    <h4>Search EU NACE Descriptions</h4>
                    <div class="help-code-container">
                      <pre><code>curl http://localhost:8000/V3.0/eu/sic/description/manufacturing</code></pre>
                      <button class="help-copy-button" onclick="copyToClipboard(this)">
                        <span class="help-copy-icon"></span>
                        <span class="copy-text">Copy</span>
                      </button>
                    </div>
                  </div>
                  
                  <div class="help-example">
                    <h4>Search Across All Industry Classifications</h4>
                    <div class="help-code-container">
                      <pre><code>curl http://localhost:8000/V3.0/global/sic/description/oil</code></pre>
                      <button class="help-copy-button" onclick="copyToClipboard(this)">
                        <span class="help-copy-icon"></span>
                        <span class="copy-text">Copy</span>
                      </button>
                    </div>
                  </div>
                </div>
                
                <div class="help-code-example">
                  <h3>Using JavaScript (Fetch API)</h3>
                  
                  <div class="help-example">
                    <h4>Get Company Information</h4>
                    <div class="help-code-container">
                      <pre><code>fetch('http://localhost:8000/V3.0/global/company/merged/firmographics/Apple')
  .then(response => response.json())
  .then(data => console.log(data))
  .catch(error => console.error('Error:', error));</code></pre>
                      <button class="help-copy-button" onclick="copyToClipboard(this)">
                        <span class="help-copy-icon"></span>
                        <span class="copy-text">Copy</span>
                      </button>
                    </div>
                  </div>
                  
                  <div class="help-example">
                    <h4>Search Industry Codes</h4>
                    <div class="help-code-container">
                      <pre><code>// URL-encode the search term
const searchTerm = encodeURIComponent('software');

fetch(`http://localhost:8000/V3.0/global/sic/description/${searchTerm}`)
  .then(response => response.json())
  .then(data => {
    if (data.code === 200) {
      console.log(`Found ${data.total} results`);
      data.data.results.forEach(result => {
        console.log(`${result.source_type}: ${result.code} - ${result.description}`);
      });
    }
  })
  .catch(error => console.error('Error:', error));</code></pre>
                      <button class="help-copy-button" onclick="copyToClipboard(this)">
                        <span class="help-copy-icon"></span>
                        <span class="copy-text">Copy</span>
                      </button>
                    </div>
                  </div>
                </div>
                
                <div class="help-code-example">
                  <h3>Using Python (Requests)</h3>
                  
                  <div class="help-example">
                    <h4>Get Company Information</h4>
                    <div class="help-code-container">
                      <pre><code>import requests
import json

response = requests.get('http://localhost:8000/V3.0/global/company/merged/firmographics/Microsoft')
data = response.json()

if data['code'] == 200:
    print(json.dumps(data, indent=2))</code></pre>
                      <button class="help-copy-button" onclick="copyToClipboard(this)">
                        <span class="help-copy-icon"></span>
                        <span class="copy-text">Copy</span>
                      </button>
                    </div>
                  </div>
                  
                  <div class="help-example">
                    <h4>Compare Industry Classifications</h4>
                    <div class="help-code-container">
                      <pre><code>import requests
import urllib.parse

# Search term
term = urllib.parse.quote('retail')

# Get results from multiple classification systems
us_sic = requests.get(f'http://localhost:8000/V3.0/na/sic/description/{term}').json()
uk_sic = requests.get(f'http://localhost:8000/V3.0/uk/sic/description/{term}').json()
eu_nace = requests.get(f'http://localhost:8000/V3.0/eu/sic/description/{term}').json()

# Print comparison
print(f"US SIC results: {us_sic['total']}")
print(f"UK SIC results: {uk_sic['total']}")
print(f"EU NACE results: {eu_nace['total']}")</code></pre>
                      <button class="help-copy-button" onclick="copyToClipboard(this)">
                        <span class="help-copy-icon"></span>
                        <span class="copy-text">Copy</span>
                      </button>
                    </div>
                  </div>
                </div>
              </div>
            </div>
          </div>
          
          <div class="help-footer">
            <h2>Additional Resources</h2>
            <div class="help-resource-links">
              <a href="https://github.com/miha42-github/company_dns/issues" target="_blank" class="help-resource-link">
                <i class="help-resource-icon help-issue-icon"></i>
                <span>Report Issues</span>
              </a>
              <a href="https://github.com/miha42-github/company_dns" target="_blank" class="help-resource-link">
                <i class="help-resource-icon help-github-icon"></i>
                <span>Source Repository</span>
              </a>
              <a href="http://www.apache.org/licenses/" target="_blank" class="help-resource-link">
                <i class="help-resource-icon help-license-icon"></i>
                <span>Apache 2.0 License</span>
              </a>
            </div>
            <p class="help-disclaimer">
              This software is provided as-is and without warranty or guarantee of support. 
              © 2025 Mediumroast, Inc.
            </p>
          </div>
        </div>
      </div>

      <!-- Global Search Tab Content -->
      <div id="GlobalSearch" class="explorer-pagecontent">
        <!-- Initial centered search (shown before search) -->
        <div id="initialSearchContainer" class="explorer-search-container">
          <h1>Industry Code Explorer</h1>
          
          <div class="explorer-intro">
            <p>
              Search across multiple industry classification systems to find and compare codes
              for various business activities. This tool helps you identify equivalent categories
              across different standards.
            </p>
            
            <div class="explorer-features">
              <div class="explorer-feature">
                <i class="feature-icon search-icon"></i>
                <span>Search by keyword or description</span>
              </div>
              <div class="explorer-feature">
                <i class="feature-icon globe-icon"></i>
                <span>Compare international standards</span>
              </div>
              <div class="explorer-feature">
                <i class="feature-icon company-icon"></i>
                <span>Find industry categories</span>
              </div>
            </div>
          </div>
          
          <div class="explorer-search-card">
            <h2>Enter an Industry Keyword</h2>
            <form id="globalSearchForm">
              <div class="explorer-input-group">
                <input type="text" id="globalSearchInput" class="dns-textfield explorer-input" placeholder="Enter industry keyword (e.g., oil, manufacturing, retail)" required>
                <button type="submit" class="dns-button explorer-button">
                  <i class="explorer-action-icon"></i>
                  Search
                </button>
              </div>
              <div class="explorer-search-hint">Try broad terms like "computer" or "retail" for best results</div>
            </form>
          </div>
        </div>

        <!-- Post-search layout (initially hidden) -->
        <div id="searchResultsLayout" class="explorer-results-layout" style="display: none;">
          <h1>Industry Code Explorer</h1>
          
          <div class="explorer-search-wrapper">
            <div class="explorer-top-container">
              <form id="globalSearchFormTop">
                <div class="explorer-input-group">
                  <input type="text" id="globalSearchInputTop" class="dns-textfield explorer-input" placeholder="Enter industry keyword (e.g., oil, manufacturing, retail)" required>
                  <button type="submit" class="dns-button explorer-button">
                    <i class="explorer-action-icon"></i>
                    Search
                  </button>
                </div>
              </form>
            </div>
          </div>
          
          <div class="explorer-content-wrapper">
            <div class="explorer-results-filters">
              <div class="explorer-sidebar">
                <h3 class="explorer-sidebar-title">Filter Results</h3>
                
                <div class="explorer-filter-options">
                  <div class="explorer-filter-label">Classification System:</div>
                  <div class="explorer-filter-checkboxes">
                    <div class="explorer-filter-checkbox">
                      <label><input type="checkbox" name="sourceFilter" value="All" checked id="filterAll"> All Results</label>
                      <span class="explorer-filter-count" id="countAll">0</span>
                    </div>
                    <div class="explorer-filter-checkbox">
                      <label><input type="checkbox" name="sourceFilter" value="US SIC" checked> US SIC</label>
                      <span class="explorer-filter-count" id="countUSSIC">0</span>
                    </div>
                    <div class="explorer-filter-checkbox">
                      <label><input type="checkbox" name="sourceFilter" value="UK SIC" checked> UK SIC</label>
                      <span class="explorer-filter-count" id="countUKSIC">0</span>
                    </div>
                    <div class="explorer-filter-checkbox">
                      <label><input type="checkbox" name="sourceFilter" value="EU NACE" checked> EU NACE</label>
                      <span class="explorer-filter-count" id="countEUNACE">0</span>
                    </div>
                    <div class="explorer-filter-checkbox">
                      <label><input type="checkbox" name="sourceFilter" value="ISIC" checked> ISIC</label>
                      <span class="explorer-filter-count" id="countISIC">0</span>
                    </div>
                    <div class="explorer-filter-checkbox">
                      <label><input type="checkbox" name="sourceFilter" value="Japan SIC" checked> Japan SIC</label>
                      <span class="explorer-filter-count" id="countJapanSIC">0</span>
                    </div>
                  </div>
                </div>
                
                <div class="explorer-filter-guide">
                  <h4>Understanding Codes</h4>
                  <ul class="explorer-classification-guide">
                    <li><strong>US SIC</strong> - United States Standard Industrial Classification</li>
                    <li><strong>UK SIC</strong> - United Kingdom Standard Industrial Classification</li>
                    <li><strong>EU NACE</strong> - European Classification of Economic Activities</li>
                    <li><strong>ISIC</strong> - International Standard Industrial Classification</li>
                    <li><strong>Japan SIC</strong> - Japan Standard Industrial Classification</li>
                  </ul>
                </div>
              </div>
              
              <div class="explorer-results-area">
                <div class="explorer-header-section">
                  <div id="globalSearchStatus" class="explorer-search-status"></div>
                </div>
                
                <div class="explorer-container-wrapper">
                  <div id="globalSearchResults" class="explorer-results-container">
                    <!-- Results will be populated via JavaScript -->
                  </div>
                </div>
                
                <div id="paginationContainer" class="explorer-pagination">
                  <!-- Pagination will be added here by JavaScript -->
                </div>
              </div>
            </div>
          </div>
        </div>
      </div>
    </main>

    <!-- Fixed footer section -->
    <footer class="page-footer">
      <p class="copyright">&copy; 2025 Mediumroast, Inc. All rights reserved.</p>
    </footer>
  </div>

  <!-- Add this before your other scripts -->
  <script src="hosts.js"></script>
  <script src="functions.js"></script>
  <script src="global-search.js"></script>
  <script>
    // Update the window.onload function
    window.onload = function () {
      console.log("Window loaded, initializing application...");
      
      // Get the first menu link (for main tabs)
      var firstMenuLink = document.querySelector(".tabmenu");

      console.log("Setting initial tab state");
      
      // Initialize the main tab (GlobalSearch)
      openTab({ currentTarget: firstMenuLink }, 'GlobalSearch', 'explorer-pagecontent', 'tabmenu');
      
      // Initialize inner tabs (API documentation) if applicable
      const innerTabContent = document.getElementById('V3');
      if (innerTabContent) {
        innerTabContent.style.display = 'block';
        
        // Make sure the corresponding button is active
        const innerTabButton = document.querySelector('.tablinks');
        if (innerTabButton) {
          innerTabButton.classList.add('active');
        }
      }
      
      console.log("Application initialization complete");
    }

    // Generate the tables
    const tableV3 = generateTable(endpointsData, 'V3.0');
    const tableV2 = generateTable(endpointsData, 'V2.0');
    document.querySelector('#V3').innerHTML += tableV3; // Add the V3.0 table to the page
    document.querySelector('#V2').innerHTML += tableV2; // Add the V2.0 table to the page
  </script>
</body>

</html>